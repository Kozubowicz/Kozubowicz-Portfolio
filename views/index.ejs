<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>List of projects</title>
        <link
          rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        />
        <style>
          body {
            background-color: rgb(27, 27, 27);
          }
          ::-webkit-scrollbar {
            width: 10px;
          }
          ::-webkit-scrollbar-track {
            box-shadow: inset 0 0 5px grey;
            border-radius: 10px;
          }

          ::-webkit-scrollbar-thumb {
            background: #023bda;
            border-radius: 10px;
          }

          table {
            background-color: #03044e;
          }
          a {
            color: #fdfdfd;
          }
          a:hover {
            color: #fdfdfd;
          }

          th {
            color: white;
            border-left: 10px solid white;
            border-right: 10px solid white;
          }

          th:hover {
            background-color: rgb(70, 70, 70);
          }
          .projEl {
            background-color: rgb(20, 20, 20);
          }
          iframe {
            border: none;
          }
          #main {
            box-shadow: 0px 0px 100px rgba(2, 107, 100, 0.8);
          }
          #table {
            box-shadow: 0px 0px 100px rgba(2, 107, 100, 0.8);
          }
        </style>
    </head>

    <body class="container-fluid">
        <div class="row gap-4 p-3">
            <div id="table" class="col-md-3 mx-md-auto p-0 mt-4" style="margin: auto">
                <div style="max-height: 90vh; overflow: auto">
                    <table class="table mb-0">
                        <thead>
                            <tr>
                                <th id="cv">CV</th>
                            </tr>
                            <tr>
                                <th id="proj">Projekty</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% folders.forEach(folder => { %>
                            <tr>
                                <td>
                                    <a href="Projects/<%= folder %>"><li><%= folder%></li> </a>
                                </td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>
            <div id="main" class="col-md-8 mx-md-auto p-0 mt-4"></div>
        </div>
        <script>
          window.onload = function () {
            ui.init();
          };

          class Ui {
            init() {
              document.getElementById("cv").addEventListener("click", (e) => cv.drawCv());

              document.getElementById("proj").addEventListener("click", (e) => projects.drawProjects());
              cv.drawCv();
            }
          }
          const ui = new Ui();

          class Cv {
            drawCv() {
              document.getElementById(
                "main"
              ).innerHTML = `<iframe  src="Files/CV - HTML" class="w-100 d-inline-block"
                style=" height:90vh" ></iframe>`;
            }
          }
          const cv = new Cv();

          class Projects {
            drawProjects() {
              document.getElementById("main").innerHTML = `
                  <div style="height: 90vh; overflow: auto">
                    <% folders.forEach(folder => { %>
                      <div  class="border projEl"" >
                        <h3>
                          <a href="Projects/<%= folder %>"><%= folder%> </a>
                        </h3>
                        <object class="w-100" style="height: 100px, color: red;"  data="Projects/<%= folder %>/README.md"></object>

                      </div>
                    <% }) %>
                  </div>
                `;
            }
          }
          const projects = new Projects();
        </script>

        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-popRpmFF9JQgExhfw5tZT4I9/CI5e2QcuUZPOVXb1m7qUmeR2b50u+YFEYe1wgzy"
          crossorigin="anonymous"
        ></script>
    </body>
</html>
